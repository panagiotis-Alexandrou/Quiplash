<!doctype html>
<html lang="en">

    <%- include('header'); -%>

    <h2 class="title">Quiplash</h2>

    <div id="game">
        <div v-if="connected" class="row">
            <div class="col-md-9">
            
            <div v-if="state==0">
                <%- include('initialform'); -%>
            </div>
            <div v-else-if="state==1">
                <%-include('waiting'); -%>
            </div>
            <div v-else-if="state==2 && me.state==1">
                <%-include('prompts'); -%>
            </div>
            <div v-else-if="state==2 && me.state==2">
                <%-include('waiting'); -%>
            </div>
            <div v-else-if="state==3 && me.state==1">
                <%-include('answers'); -%>
            </div>
            <div v-else-if="state==3 && me.state==2">
                <%-include('waiting'); -%>
            </div>
            <div v-else-if="state==4 && me.state==1">
                <%-include('voting'); -%>
            </div>
            <div v-else-if="state==4 && me.state==2">
                <%-include('waiting'); -%>
            </div>
            <div v-else-if="state==5">
                <%-include('results'); -%>
            </div>
            <div v-else-if="state==6">
                <%-include('scores'); -%>
            </div>
            <div v-else-if="state==7 ">
                <%-include('gameover'); -%>
            </div>
            

            <div class="admin" v-if="me.admin">
                <p><button class="btn btn-sm btn-primary" @click="next()">advance</button></p>
                <p><strong>Debug information:</strong> My state: {{me.state}} | Game state: {{state}}</p> 
                <div v-if="state==7">
                    <p><button class="btn btn-sm btn-primary" @click="resetGame()">reset game</button> </p>
                </div> 
            </div>
        </div>
        <div class="col-md-3" v-if="state>0">
            <%- include('chat'); -%>
        </div>
            
        </div>
        <div v-else>
            <p>Connecting...</p>
        </div>
    </div>

    <%- include('footer'); -%>

</html>
